<!-- components/nav/nav.wxml -->
<view class="nav-container" wx:if="{{config.showLottery}}">
    <!-- Ê†áÈ¢òÂå∫Âüü -->
    <view class="nav-header">
        <view class="nav-title-wrapper">
            <view class="nav-title-badge">
                <text class="badge-icon">üéØ</text>
                ÈÄâÂè∑Êé®Ëçê
            </view>
            <navigator class="nav-more" url="/pages/tool/tool">
                Êõ¥Â§ö<text class="more-arrow">‚Ä∫‚Ä∫</text>
            </navigator>
        </view>
    </view>
    
    <!-- 4ÂàóÂõæÊ†áÂØºËà™Âå∫Âüü -->
    <view class="nav-grid-4cols">
        <view 
            class="nav-item {{index % 4 === 3 ? 'last-in-row' : ''}}" 
            wx:for="{{iconList}}" 
            wx:key="id"
            wx:for-index="idx"
        >
            <!-- Â∞èÁ®ãÂ∫èË∑≥ËΩ¨ -->
            <navigator 
                class="item-link"
                appId="{{item.appid}}"
                openType="navigate"
                path="{{item.path}}"
                target="miniProgram"
                version="release"
                wx:if="{{item.type === 'miniprogram'}}"
                hover-class="item-hover"
                bindtap="onItemTap"
                data-item="{{item}}"
                data-index="{{idx}}"
            >
                <view class="item-card">
                    <view class="icon-container">
                        <image class="item-icon" mode="aspectFit" src="{{item.iconurl}}" lazy-load="true"></image>
                        <view class="item-badge" wx:if="{{item.badge}}">{{item.badge}}</view>
                    </view>
                    <view class="item-name">{{item.name}}</view>
                </view>
            </navigator>
            
            <!-- ÊôÆÈÄöÈ°µÈù¢Ë∑≥ËΩ¨ -->
            <navigator 
                class="item-link"
                url="{{item.path}}"
                wx:if="{{item.type === 'navigation'}}"
                hover-class="item-hover"
                bindtap="onItemTap"
                data-item="{{item}}"
                data-index="{{idx}}"
            >
                <view class="item-card">
                    <view class="icon-container">
                        <image class="item-icon" mode="aspectFit" src="{{item.iconurl}}" lazy-load="true"></image>
                        <view class="item-badge" wx:if="{{item.badge}}">{{item.badge}}</view>
                    </view>
                    <view class="item-name">{{item.name}}</view>
                </view>
            </navigator>
        </view>
    </view>
</view>